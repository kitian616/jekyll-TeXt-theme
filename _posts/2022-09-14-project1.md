---
layout : single
title : Project1 - ì½”ë¡œë‚˜ê°€ ê´€ê´‘ì‚°ì—…ì— ë¯¸ì¹˜ëŠ” ì˜í–¥
tags : Python, Project
---

# ğŸ§ ê°œìš”

ì½”ë¡œë‚˜ê°€ ê´€ê´‘ì‚°ì—…ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì³¤ëŠ”ì§€ ì•Œì•„ë³´ê¸° ìœ„í•´ ê³µê³µë°ì´í„°í¬í„¸(https://www.data.go.kr/) ì—ì„œ ì–»ì€ ì½”ë¡œë‚˜ í™•ì§„ììˆ˜ ë° ì‚¬ë§ììˆ˜ë¥¼ í¬í•¨í•œ ë°ì´í„°ì™€ í•œêµ­ê´€ê´‘ë°ì´í„°ë©(https://datalab.visitkorea.or.kr/) ì—ì„œ ë¶ˆëŸ¬ì˜¨ ì›”ë³„ ê´€ê´‘ììˆ˜ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

# ğŸ”¨ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë° ì „ì²˜ë¦¬

## ğŸ”§ ì½”ë¡œë‚˜ ë°ì´í„° ì „ì²˜ë¦¬

ë°ì´í„° ì „ì²˜ë¦¬ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.


```python
import pandas as pd
import numpy as np
import requests
import xmltodict
```

ğŸ“ ê³µê³µë°ì´í„°í¬í„¸ì—ì„œ ìŠ¹ì¸ ëœ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤. ê¸°ê°„ì€ 2020.1.20 ~ 2022.6.30 ì‚¬ì´ì˜ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.


```python
url = 'http://openapi.data.go.kr/openapi/service/rest/Covid19/getCovid19SidoInfStateJson'
params ={'serviceKey' : 'rnF4yyGFp4RmLHiQ/PXaEmoqBuiQ0mv72GW7vb0hxrgRZqSk/zHAJN0QO5hP79QMhoXZTOwY8fh2cl7BSynbxg==', 
         'pageNo' : '1', 
         'numOfRows' : '10', 
         'startCreateDt' : '20200120', 
         'endCreateDt' : '20220630' }

response = requests.get(url, params=params)
```

xml í˜•íƒœë¡œ ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ë¥¼ ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë°”ê¿”ì„œ parsingì„ ì§„í–‰í•˜ê³  **covidData** ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì €ì¥í•˜ì˜€ìŠµë‹ˆë‹¤.


```python
result = xmltodict.parse(response.text)
```


```python
covidData = pd.DataFrame(result['response']['body']['items']['item'])
covidData
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>createDt</th>
      <th>deathCnt</th>
      <th>defCnt</th>
      <th>gubun</th>
      <th>gubunCn</th>
      <th>gubunEn</th>
      <th>incDec</th>
      <th>localOccCnt</th>
      <th>overFlowCnt</th>
      <th>qurRate</th>
      <th>seq</th>
      <th>stdDay</th>
      <th>updateDt</th>
      <th>isolClearCnt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022-06-30 09:01:32.277</td>
      <td>16</td>
      <td>11308</td>
      <td>ê²€ì—­</td>
      <td>éš”é›¢å€</td>
      <td>Lazaretto</td>
      <td>9</td>
      <td>0</td>
      <td>9</td>
      <td>-</td>
      <td>17850</td>
      <td>2022ë…„ 06ì›” 30ì¼ 00ì‹œ</td>
      <td>null</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022-06-30 09:01:32.277</td>
      <td>182</td>
      <td>239066</td>
      <td>ì œì£¼</td>
      <td>æµå·</td>
      <td>Jeju</td>
      <td>205</td>
      <td>181</td>
      <td>24</td>
      <td>35325</td>
      <td>17849</td>
      <td>2022ë…„ 06ì›” 30ì¼ 00ì‹œ</td>
      <td>null</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2022-06-30 09:01:32.276</td>
      <td>1259</td>
      <td>1103742</td>
      <td>ê²½ë‚¨</td>
      <td>åº†å—</td>
      <td>Gyeongsangnam-do</td>
      <td>560</td>
      <td>547</td>
      <td>13</td>
      <td>33304</td>
      <td>17848</td>
      <td>2022ë…„ 06ì›” 30ì¼ 00ì‹œ</td>
      <td>null</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2022-06-30 09:01:32.276</td>
      <td>1408</td>
      <td>792074</td>
      <td>ê²½ë¶</td>
      <td>åº†åŒ—</td>
      <td>Gyeongsangbuk-do</td>
      <td>501</td>
      <td>492</td>
      <td>9</td>
      <td>30156</td>
      <td>17847</td>
      <td>2022ë…„ 06ì›” 30ì¼ 00ì‹œ</td>
      <td>null</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2022-06-30 09:01:32.275</td>
      <td>483</td>
      <td>602118</td>
      <td>ì „ë‚¨</td>
      <td>å…¨å—</td>
      <td>Jeollanam-do</td>
      <td>250</td>
      <td>247</td>
      <td>3</td>
      <td>32852</td>
      <td>17846</td>
      <td>2022ë…„ 06ì›” 30ì¼ 00ì‹œ</td>
      <td>null</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16962</th>
      <td>2020-01-20 09:00:00.000</td>
      <td>0</td>
      <td>0</td>
      <td>ì „ë‚¨</td>
      <td>å…¨å—</td>
      <td>Jeollanam-do</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.00</td>
      <td>5</td>
      <td>2020ë…„ 01ì›” 20ì¼ 00ì‹œ</td>
      <td>2021-09-16 10:11:33.897</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16963</th>
      <td>2020-01-20 09:00:00.000</td>
      <td>0</td>
      <td>0</td>
      <td>ê²½ë¶</td>
      <td>åº†åŒ—</td>
      <td>Gyeongsangbuk-do</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.00</td>
      <td>4</td>
      <td>2020ë…„ 01ì›” 20ì¼ 00ì‹œ</td>
      <td>2021-09-16 10:11:33.897</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16964</th>
      <td>2020-01-20 09:00:00.000</td>
      <td>0</td>
      <td>0</td>
      <td>ê²½ë‚¨</td>
      <td>åº†å—</td>
      <td>Gyeongsangnam-do</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.00</td>
      <td>3</td>
      <td>2020ë…„ 01ì›” 20ì¼ 00ì‹œ</td>
      <td>2021-09-16 10:11:33.897</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16965</th>
      <td>2020-01-20 09:00:00.000</td>
      <td>0</td>
      <td>0</td>
      <td>ì œì£¼</td>
      <td>æµå·</td>
      <td>Jeju</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.00</td>
      <td>2</td>
      <td>2020ë…„ 01ì›” 20ì¼ 00ì‹œ</td>
      <td>2021-09-16 10:11:33.897</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16966</th>
      <td>2020-01-20 09:00:00.000</td>
      <td>0</td>
      <td>0</td>
      <td>ê²€ì—­</td>
      <td>éš”é›¢å€</td>
      <td>Lazaretto</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.00</td>
      <td>1</td>
      <td>2020ë…„ 01ì›” 20ì¼ 00ì‹œ</td>
      <td>2021-09-16 10:11:33.897</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>16967 rows Ã— 14 columns</p>
</div>



ì‹œê°í™”ì— í•„ìš”í•œ ***ë‚ ì§œ, ì§€ì—­, ëˆ„ì ì‚¬ë§ììˆ˜, ëˆ„ì í™•ì§„ììˆ˜*** ë°ì´í„°ë§Œ ê°€ì ¸ì™€ì¤ë‹ˆë‹¤.


```python
covidData1 = covidData[['createDt', 'gubun', 'deathCnt', 'defCnt']]
covidData1.columns = ['ë‚ ì§œ', 'ì§€ì—­', 'ëˆ„ì ì‚¬ë§ììˆ˜', 'ëˆ„ì í™•ì§„ììˆ˜']
```

ì›”ë³„ ì „ì²´ í™•ì§„ììˆ˜ì™€ ì‚¬ë§ììˆ˜ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ ì§€ì—­ëª…ì´ **'í•©ê³„'**ì¸ ë°ì´í„°ë§Œ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.


```python
covidData2 = covidData1[covidData1['ì§€ì—­'] == 'í•©ê³„']
covidData2
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë‚ ì§œ</th>
      <th>ì§€ì—­</th>
      <th>ëˆ„ì ì‚¬ë§ììˆ˜</th>
      <th>ëˆ„ì í™•ì§„ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18</th>
      <td>2022-06-30 09:01:32.268</td>
      <td>í•©ê³„</td>
      <td>24547</td>
      <td>18359341</td>
    </tr>
    <tr>
      <th>37</th>
      <td>2022-06-29 09:13:21.181</td>
      <td>í•©ê³„</td>
      <td>24537</td>
      <td>18349756</td>
    </tr>
    <tr>
      <th>56</th>
      <td>2022-06-28 08:52:54.486</td>
      <td>í•©ê³„</td>
      <td>24530</td>
      <td>18339319</td>
    </tr>
    <tr>
      <th>75</th>
      <td>2022-06-27 09:12:17.185</td>
      <td>í•©ê³„</td>
      <td>24525</td>
      <td>18329448</td>
    </tr>
    <tr>
      <th>94</th>
      <td>2022-06-26 09:35:56.853</td>
      <td>í•©ê³„</td>
      <td>24522</td>
      <td>18326019</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16872</th>
      <td>2020-01-24 09:00:00.000</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>16891</th>
      <td>2020-01-23 09:00:00.000</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16910</th>
      <td>2020-01-22 09:00:00.000</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16929</th>
      <td>2020-01-21 09:00:00.000</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16948</th>
      <td>2020-01-20 09:00:00.000</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>893 rows Ã— 4 columns</p>
</div>



ğŸ“† ë‚ ì§œ ë³€ìˆ˜ì—ì„œ âŒšì‹œê°„ì„ ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤.


```python
covidData2['ë‚ ì§œ'] = covidData2['ë‚ ì§œ'].apply(lambda x: x.split(' ')[0])
covidData2
```

    C:\Users\USER\AppData\Local\Temp/ipykernel_18532/700311428.py:1: SettingWithCopyWarning: 
    A value is trying to be set on a copy of a slice from a DataFrame.
    Try using .loc[row_indexer,col_indexer] = value instead
    
    See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
      covidData2['ë‚ ì§œ'] = covidData2['ë‚ ì§œ'].apply(lambda x: x.split(' ')[0])
    




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë‚ ì§œ</th>
      <th>ì§€ì—­</th>
      <th>ëˆ„ì ì‚¬ë§ììˆ˜</th>
      <th>ëˆ„ì í™•ì§„ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18</th>
      <td>2022-06-30</td>
      <td>í•©ê³„</td>
      <td>24547</td>
      <td>18359341</td>
    </tr>
    <tr>
      <th>37</th>
      <td>2022-06-29</td>
      <td>í•©ê³„</td>
      <td>24537</td>
      <td>18349756</td>
    </tr>
    <tr>
      <th>56</th>
      <td>2022-06-28</td>
      <td>í•©ê³„</td>
      <td>24530</td>
      <td>18339319</td>
    </tr>
    <tr>
      <th>75</th>
      <td>2022-06-27</td>
      <td>í•©ê³„</td>
      <td>24525</td>
      <td>18329448</td>
    </tr>
    <tr>
      <th>94</th>
      <td>2022-06-26</td>
      <td>í•©ê³„</td>
      <td>24522</td>
      <td>18326019</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16872</th>
      <td>2020-01-24</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>16891</th>
      <td>2020-01-23</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16910</th>
      <td>2020-01-22</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16929</th>
      <td>2020-01-21</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16948</th>
      <td>2020-01-20</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>893 rows Ã— 4 columns</p>
</div>



ê°€ì ¸ì˜¨ ë°ì´í„°ëŠ” ëˆ„ì  ì‚¬ë§ì ìˆ˜, ëˆ„ì  í™•ì§„ì ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„°ì´ë¯€ë¡œ ì¼ìë³„ë¡œ ì°¨ì´ë¥¼ êµ¬í•´ ***ì¼ë³„ í™•ì§„ì ìˆ˜, ì¼ë³„ ì‚¬ë§ì ìˆ˜*** ë¼ëŠ” ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

ìš°ì„ , ğŸ“† ë‚ ì§œ ìˆœì„œëŒ€ë¡œ ì •ë ¬í•˜ê³  reset_index()ë¡œ ì¸ë±ìŠ¤ë¥¼ ì¬ì„¤ì • í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.


```python
covidData2.sort_values('ë‚ ì§œ', inplace = True)
covidData2.reset_index(drop = True, inplace = True)
covidData2
```

    C:\Users\USER\anaconda3\lib\site-packages\pandas\util\_decorators.py:311: SettingWithCopyWarning: 
    A value is trying to be set on a copy of a slice from a DataFrame
    
    See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
      return func(*args, **kwargs)
    




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë‚ ì§œ</th>
      <th>ì§€ì—­</th>
      <th>ëˆ„ì ì‚¬ë§ììˆ˜</th>
      <th>ëˆ„ì í™•ì§„ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-01-20</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-01-21</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-01-22</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-01-23</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-01-24</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>888</th>
      <td>2022-06-26</td>
      <td>í•©ê³„</td>
      <td>24522</td>
      <td>18326019</td>
    </tr>
    <tr>
      <th>889</th>
      <td>2022-06-27</td>
      <td>í•©ê³„</td>
      <td>24525</td>
      <td>18329448</td>
    </tr>
    <tr>
      <th>890</th>
      <td>2022-06-28</td>
      <td>í•©ê³„</td>
      <td>24530</td>
      <td>18339319</td>
    </tr>
    <tr>
      <th>891</th>
      <td>2022-06-29</td>
      <td>í•©ê³„</td>
      <td>24537</td>
      <td>18349756</td>
    </tr>
    <tr>
      <th>892</th>
      <td>2022-06-30</td>
      <td>í•©ê³„</td>
      <td>24547</td>
      <td>18359341</td>
    </tr>
  </tbody>
</table>
<p>893 rows Ã— 4 columns</p>
</div>



ë‚ ì§œë¡œ ì •ë ¬ëœ ë°ì´í„°ë¡œ **ì¼ë³„ í™•ì§„ì ìˆ˜**ë¥¼ ê³„ì‚°í•˜ê³ ...


```python
defCnt = [int(covidData2['ëˆ„ì í™•ì§„ììˆ˜'][i+1]) - int(covidData2['ëˆ„ì í™•ì§„ììˆ˜'][i]) for i in range(len(covidData2)-1)]
defCnt[0] = covidData2['ëˆ„ì í™•ì§„ììˆ˜'][0]

len(defCnt)
```




    892



**ì¼ë³„ ì‚¬ë§ì ìˆ˜**ë¥¼ ê³„ì‚°í•˜ì˜€ìŠµë‹ˆë‹¤. âœ¨


```python
deathCnt = [int(covidData2['ëˆ„ì ì‚¬ë§ììˆ˜'][i+1]) - int(covidData2['ëˆ„ì ì‚¬ë§ììˆ˜'][i]) for i in range(len(covidData2)-1)]
deathCnt[0] = covidData2['ëˆ„ì ì‚¬ë§ììˆ˜'][0]

len(deathCnt)
```




    892



âœ” ë„¤ì´ë²„ ì½”ë¡œë‚˜ í™•ì§„ì ìˆ˜ë‘ ë¹„êµí•´ë³´ë‹ˆê¹Œ í•˜ë£¨ì”© ì°¨ì´ê°€ ë‚˜ì„œ ì§‘ê³„ë°©ì‹ì— ì°¨ì´ê°€ ìˆëŠ” ê²ƒ ê°™ì•„ì„œ **ë„¤ì´ë²„ ê¸°ì¤€**ìœ¼ë¡œ ë§ì·„ìŠµë‹ˆë‹¤!


```python
#6ì›” 30ì¼ í™•ì§„ì, ì‚¬ë§ì ë°ì´í„° ì¶”ê°€
defCnt.append(9548)
deathCnt.append(8)
```


```python
#ì¼ë³„ ì¹¼ëŸ¼ ë°ì´í„°í”„ë ˆì„ì— ì¶”ê°€
covidData3 = covidData2.copy()

covidData3['ì¼ë³„í™•ì§„ììˆ˜'] = defCnt
covidData3['ì¼ë³„ì‚¬ë§ììˆ˜'] = deathCnt

#ì‚¬ë§ììˆ˜, í™•ì§„ììˆ˜ ë°ì´í„° ìˆ«ìë¡œ ë³€í™˜
covidData3['ì¼ë³„ì‚¬ë§ììˆ˜'] = covidData3['ì¼ë³„ì‚¬ë§ììˆ˜'].astype(int)
covidData3['ì¼ë³„í™•ì§„ììˆ˜'] = covidData3['ì¼ë³„í™•ì§„ììˆ˜'].astype(int)

covidData3
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë‚ ì§œ</th>
      <th>ì§€ì—­</th>
      <th>ëˆ„ì ì‚¬ë§ììˆ˜</th>
      <th>ëˆ„ì í™•ì§„ììˆ˜</th>
      <th>ì¼ë³„í™•ì§„ììˆ˜</th>
      <th>ì¼ë³„ì‚¬ë§ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-01-20</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-01-21</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-01-22</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-01-23</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-01-24</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>888</th>
      <td>2022-06-26</td>
      <td>í•©ê³„</td>
      <td>24522</td>
      <td>18326019</td>
      <td>3429</td>
      <td>3</td>
    </tr>
    <tr>
      <th>889</th>
      <td>2022-06-27</td>
      <td>í•©ê³„</td>
      <td>24525</td>
      <td>18329448</td>
      <td>9871</td>
      <td>5</td>
    </tr>
    <tr>
      <th>890</th>
      <td>2022-06-28</td>
      <td>í•©ê³„</td>
      <td>24530</td>
      <td>18339319</td>
      <td>10437</td>
      <td>7</td>
    </tr>
    <tr>
      <th>891</th>
      <td>2022-06-29</td>
      <td>í•©ê³„</td>
      <td>24537</td>
      <td>18349756</td>
      <td>9585</td>
      <td>10</td>
    </tr>
    <tr>
      <th>892</th>
      <td>2022-06-30</td>
      <td>í•©ê³„</td>
      <td>24547</td>
      <td>18359341</td>
      <td>9548</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
<p>893 rows Ã— 6 columns</p>
</div>



ì›”ë³„ë¡œ í™•ì§„ì ìˆ˜ì™€ ì‚¬ë§ì ìˆ˜ë¥¼ í•©ì¹˜ê¸° ìœ„í•´ ë‚ ì§œë¥¼ ë…„ë„ì™€ ì›”ë¡œ ë‚˜ëˆ„ì–´ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.


```python
#ë…„ë„ ë°ì´í„° ìƒì„±
covidData4 = covidData3.copy()
covidData4['ë…„ë„'] = covidData3['ë‚ ì§œ'].apply(lambda x: x.split('-')[0])

#ì›” ë°ì´í„° ìƒì„±
covidData4['ì›”'] = covidData3['ë‚ ì§œ'].apply(lambda x: x.split('-')[1])
covidData4
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë‚ ì§œ</th>
      <th>ì§€ì—­</th>
      <th>ëˆ„ì ì‚¬ë§ììˆ˜</th>
      <th>ëˆ„ì í™•ì§„ììˆ˜</th>
      <th>ì¼ë³„í™•ì§„ììˆ˜</th>
      <th>ì¼ë³„ì‚¬ë§ììˆ˜</th>
      <th>ë…„ë„</th>
      <th>ì›”</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-01-20</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2020</td>
      <td>01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-01-21</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>2020</td>
      <td>01</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-01-22</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>2020</td>
      <td>01</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-01-23</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2020</td>
      <td>01</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-01-24</td>
      <td>í•©ê³„</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>2020</td>
      <td>01</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>888</th>
      <td>2022-06-26</td>
      <td>í•©ê³„</td>
      <td>24522</td>
      <td>18326019</td>
      <td>3429</td>
      <td>3</td>
      <td>2022</td>
      <td>06</td>
    </tr>
    <tr>
      <th>889</th>
      <td>2022-06-27</td>
      <td>í•©ê³„</td>
      <td>24525</td>
      <td>18329448</td>
      <td>9871</td>
      <td>5</td>
      <td>2022</td>
      <td>06</td>
    </tr>
    <tr>
      <th>890</th>
      <td>2022-06-28</td>
      <td>í•©ê³„</td>
      <td>24530</td>
      <td>18339319</td>
      <td>10437</td>
      <td>7</td>
      <td>2022</td>
      <td>06</td>
    </tr>
    <tr>
      <th>891</th>
      <td>2022-06-29</td>
      <td>í•©ê³„</td>
      <td>24537</td>
      <td>18349756</td>
      <td>9585</td>
      <td>10</td>
      <td>2022</td>
      <td>06</td>
    </tr>
    <tr>
      <th>892</th>
      <td>2022-06-30</td>
      <td>í•©ê³„</td>
      <td>24547</td>
      <td>18359341</td>
      <td>9548</td>
      <td>8</td>
      <td>2022</td>
      <td>06</td>
    </tr>
  </tbody>
</table>
<p>893 rows Ã— 8 columns</p>
</div>




```python
#ì›”ë³„ë¡œ í™•ì§„ììˆ˜ì™€ ì‚¬ë§ììˆ˜ í•©ì¹˜ê¸°
covidData5 = covidData4.groupby(['ë…„ë„', 'ì›”'])[['ì¼ë³„ì‚¬ë§ììˆ˜', 'ì¼ë³„í™•ì§„ììˆ˜']].sum()

#ì¹¼ëŸ¼ ì´ë¦„ì„ ì„¤ì •í•˜ê³  ì¸ë±ìŠ¤ ì¬ì„¤ì •í•´ì£¼ê¸°
covidData5.columns = ['ì›”ë³„ì‚¬ë§ììˆ˜', 'ì›”ë³„í™•ì§„ììˆ˜']
covidData5.reset_index(inplace = True)

covidData5
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ë„</th>
      <th>ì›”</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020</td>
      <td>01</td>
      <td>0</td>
      <td>12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020</td>
      <td>02</td>
      <td>17</td>
      <td>3514</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020</td>
      <td>03</td>
      <td>148</td>
      <td>6361</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020</td>
      <td>04</td>
      <td>83</td>
      <td>887</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020</td>
      <td>05</td>
      <td>23</td>
      <td>729</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2020</td>
      <td>06</td>
      <td>11</td>
      <td>1347</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2020</td>
      <td>07</td>
      <td>19</td>
      <td>1486</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2020</td>
      <td>08</td>
      <td>23</td>
      <td>5845</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2020</td>
      <td>09</td>
      <td>91</td>
      <td>3707</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2020</td>
      <td>10</td>
      <td>51</td>
      <td>2747</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2020</td>
      <td>11</td>
      <td>60</td>
      <td>8015</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2020</td>
      <td>12</td>
      <td>391</td>
      <td>27103</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2021</td>
      <td>01</td>
      <td>508</td>
      <td>16749</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2021</td>
      <td>02</td>
      <td>180</td>
      <td>11517</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2021</td>
      <td>03</td>
      <td>130</td>
      <td>13611</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2021</td>
      <td>04</td>
      <td>96</td>
      <td>19003</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2021</td>
      <td>05</td>
      <td>132</td>
      <td>18163</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2021</td>
      <td>06</td>
      <td>58</td>
      <td>16925</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2021</td>
      <td>07</td>
      <td>77</td>
      <td>42055</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2021</td>
      <td>08</td>
      <td>194</td>
      <td>53663</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2021</td>
      <td>09</td>
      <td>205</td>
      <td>60328</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2021</td>
      <td>10</td>
      <td>361</td>
      <td>52619</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2021</td>
      <td>11</td>
      <td>801</td>
      <td>85964</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2021</td>
      <td>12</td>
      <td>1966</td>
      <td>182903</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2022</td>
      <td>01</td>
      <td>1147</td>
      <td>228789</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2022</td>
      <td>02</td>
      <td>1398</td>
      <td>2409407</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2022</td>
      <td>03</td>
      <td>8420</td>
      <td>10102369</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2022</td>
      <td>04</td>
      <td>6285</td>
      <td>3899831</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2022</td>
      <td>05</td>
      <td>1322</td>
      <td>843766</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2022</td>
      <td>06</td>
      <td>358</td>
      <td>249474</td>
    </tr>
  </tbody>
</table>
</div>



2020ë…„ 1ì›” ì´ì „ì—ëŠ” ì½”ë¡œë‚˜ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ê°€ ì—†ì§€ë§Œ 
ê´€ê´‘ë°ì´í„°ì™€ ë³‘í•©í•˜ê¸° ìœ„í•´ì„œ ì„ì˜ë¡œ í–‰ì„ ë§Œë“¤ì–´ ì£¼ì—ˆìŠµë‹ˆë‹¤.


```python
covidData5.loc[30] = ['2019', '07', 0, 0]
covidData5.loc[31] = ['2019', '08', 0, 0]
covidData5.loc[32] = ['2019', '09', 0, 0]
covidData5.loc[33] = ['2019', '10', 0, 0]
covidData5.loc[34] = ['2019', '11', 0, 0]
covidData5.loc[35] = ['2019', '12', 0, 0]
```


```python
covidData5 = covidData5.sort_values(['ë…„ë„','ì›”'])
covidData5.reset_index(inplace=True)
covidData5.drop(['index'], axis=1, inplace=True)

covidData5
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ë„</th>
      <th>ì›”</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019</td>
      <td>07</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019</td>
      <td>08</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019</td>
      <td>09</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019</td>
      <td>10</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019</td>
      <td>11</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2019</td>
      <td>12</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2020</td>
      <td>01</td>
      <td>0</td>
      <td>12</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2020</td>
      <td>02</td>
      <td>17</td>
      <td>3514</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2020</td>
      <td>03</td>
      <td>148</td>
      <td>6361</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2020</td>
      <td>04</td>
      <td>83</td>
      <td>887</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2020</td>
      <td>05</td>
      <td>23</td>
      <td>729</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2020</td>
      <td>06</td>
      <td>11</td>
      <td>1347</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2020</td>
      <td>07</td>
      <td>19</td>
      <td>1486</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2020</td>
      <td>08</td>
      <td>23</td>
      <td>5845</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2020</td>
      <td>09</td>
      <td>91</td>
      <td>3707</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2020</td>
      <td>10</td>
      <td>51</td>
      <td>2747</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2020</td>
      <td>11</td>
      <td>60</td>
      <td>8015</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2020</td>
      <td>12</td>
      <td>391</td>
      <td>27103</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2021</td>
      <td>01</td>
      <td>508</td>
      <td>16749</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2021</td>
      <td>02</td>
      <td>180</td>
      <td>11517</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2021</td>
      <td>03</td>
      <td>130</td>
      <td>13611</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2021</td>
      <td>04</td>
      <td>96</td>
      <td>19003</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2021</td>
      <td>05</td>
      <td>132</td>
      <td>18163</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2021</td>
      <td>06</td>
      <td>58</td>
      <td>16925</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2021</td>
      <td>07</td>
      <td>77</td>
      <td>42055</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2021</td>
      <td>08</td>
      <td>194</td>
      <td>53663</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2021</td>
      <td>09</td>
      <td>205</td>
      <td>60328</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2021</td>
      <td>10</td>
      <td>361</td>
      <td>52619</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2021</td>
      <td>11</td>
      <td>801</td>
      <td>85964</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2021</td>
      <td>12</td>
      <td>1966</td>
      <td>182903</td>
    </tr>
    <tr>
      <th>30</th>
      <td>2022</td>
      <td>01</td>
      <td>1147</td>
      <td>228789</td>
    </tr>
    <tr>
      <th>31</th>
      <td>2022</td>
      <td>02</td>
      <td>1398</td>
      <td>2409407</td>
    </tr>
    <tr>
      <th>32</th>
      <td>2022</td>
      <td>03</td>
      <td>8420</td>
      <td>10102369</td>
    </tr>
    <tr>
      <th>33</th>
      <td>2022</td>
      <td>04</td>
      <td>6285</td>
      <td>3899831</td>
    </tr>
    <tr>
      <th>34</th>
      <td>2022</td>
      <td>05</td>
      <td>1322</td>
      <td>843766</td>
    </tr>
    <tr>
      <th>35</th>
      <td>2022</td>
      <td>06</td>
      <td>358</td>
      <td>249474</td>
    </tr>
  </tbody>
</table>
</div>



ğŸ’¾ ì „ì²˜ë¦¬ê°€ ì™„ì„±ëœ ë°ì´í„°ë¥¼ CSV íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.


```python
covidData5.to_csv('covidData_final.csv', encoding = 'euc-kr')
```

## ğŸ”§ ê´€ê´‘ ë°ì´í„° ì „ì²˜ë¦¬

ğŸ“‚ í•œêµ­ê´€ê´‘ë°ì´í„°ë©(https://datalab.visitkorea.or.kr/datalab/portal/main/getMainForm.do) ì‚¬ì´íŠ¸ì—ì„œ 2019ë…„ 07ì›”ë¶€í„° 2022ë…„ 06ì›”ê¹Œì§€ì˜ ë°ì´í„°ë¥¼ ë‹¤ìš´ë°›ì•˜ìŠµë‹ˆë‹¤.

CSV íŒŒì¼ì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ **tour_df** ë°ì´í„°í”„ë ˆì„ì— ì €ì¥í•˜ì˜€ìŠµë‹ˆë‹¤.


```python
tour_df = pd.read_csv("./ê´€ê´‘ë°ì´íƒ€_ìµœì¢….csv", encoding='cp949')
tour_df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ì›”</th>
      <th>ì‹œë„ëª…</th>
      <th>ë°©ë¬¸ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-07</td>
      <td>ì„œìš¸íŠ¹ë³„ì‹œ</td>
      <td>60400000.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-07</td>
      <td>ë¶€ì‚°ê´‘ì—­ì‹œ</td>
      <td>13600000.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-07</td>
      <td>ëŒ€êµ¬ê´‘ì—­ì‹œ</td>
      <td>9655894.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-07</td>
      <td>ì¸ì²œê´‘ì—­ì‹œ</td>
      <td>16300000.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-07</td>
      <td>ê´‘ì£¼ê´‘ì—­ì‹œ</td>
      <td>5843693.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>607</th>
      <td>2022-06</td>
      <td>ì „ë¼ë¶ë„</td>
      <td>7855493.0</td>
    </tr>
    <tr>
      <th>608</th>
      <td>2022-06</td>
      <td>ì „ë¼ë‚¨ë„</td>
      <td>10300000.0</td>
    </tr>
    <tr>
      <th>609</th>
      <td>2022-06</td>
      <td>ê²½ìƒë¶ë„</td>
      <td>14500000.0</td>
    </tr>
    <tr>
      <th>610</th>
      <td>2022-06</td>
      <td>ê²½ìƒë‚¨ë„</td>
      <td>11900000.0</td>
    </tr>
    <tr>
      <th>611</th>
      <td>2022-06</td>
      <td>ì œì£¼íŠ¹ë³„ìì¹˜ë„</td>
      <td>5873436.0</td>
    </tr>
  </tbody>
</table>
<p>612 rows Ã— 3 columns</p>
</div>



ì›”ë³„ ë°©ë¬¸ì ìˆ˜ì˜ í•©ì„ êµ¬í•©ë‹ˆë‹¤.


```python
tour_sum = [tour_df['ë°©ë¬¸ììˆ˜'][i:i+16].sum() for i in range(0,612,17)]
tour_sum
```




    [262952388.0,
     293357382.0,
     271154784.0,
     254882209.0,
     254841999.0,
     235297924.0,
     241488710.0,
     176791577.0,
     174545220.0,
     182713809.0,
     218194401.0,
     199010094.0,
     220232761.0,
     218711070.0,
     194305025.0,
     231321706.0,
     199680061.0,
     173035276.0,
     167850335.0,
     186986626.0,
     219365480.0,
     190822478.0,
     212421829.0,
     198152108.0,
     205164658.0,
     209056719.0,
     223985527.0,
     224882734.0,
     211169326.0,
     202761767.0,
     211720699.0,
     211720699.0,
     211720699.0,
     211720699.0,
     211720699.0,
     223515196.0]



2019ë…„ 7ì›”ë¶€í„° 2022ë…„ 6ì›”ê¹Œì§€ì˜ ë‚ ì§œë¥¼ êµ¬í•©ë‹ˆë‹¤.


```python
tour_month = []
for i in range(2019,2023):
  for j in range(1,13):
    if (i==2019 and j>6) or (i==2020) or (i==2021) or(i==2022 and j<7):
      tour_month.append(f'{i}-{j}')     
tour_month
```




    ['2019-7',
     '2019-8',
     '2019-9',
     '2019-10',
     '2019-11',
     '2019-12',
     '2020-1',
     '2020-2',
     '2020-3',
     '2020-4',
     '2020-5',
     '2020-6',
     '2020-7',
     '2020-8',
     '2020-9',
     '2020-10',
     '2020-11',
     '2020-12',
     '2021-1',
     '2021-2',
     '2021-3',
     '2021-4',
     '2021-5',
     '2021-6',
     '2021-7',
     '2021-8',
     '2021-9',
     '2021-10',
     '2021-11',
     '2021-12',
     '2022-1',
     '2022-2',
     '2022-3',
     '2022-4',
     '2022-5',
     '2022-6']



ë…„ì›”ë³„ë¡œ ë°©ë¬¸ì ìˆ˜ì˜ í•©ê³„ë¥¼ ìƒˆë¡œìš´ **tour_data** ë°ì´í„°í”„ë ˆì„ì— ì €ì¥í•©ë‹ˆë‹¤.


```python
tour_data=pd.DataFrame(tour_month)
tour_data['ì´ ë°©ë¬¸ììˆ˜']=tour_sum
tour_data.columns = ['ë…„ì›”', 'ë°©ë¬¸ììˆ˜']
tour_data
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ì›”</th>
      <th>ë°©ë¬¸ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-7</td>
      <td>262952388.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-8</td>
      <td>293357382.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-9</td>
      <td>271154784.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-10</td>
      <td>254882209.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-11</td>
      <td>254841999.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2019-12</td>
      <td>235297924.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2020-1</td>
      <td>241488710.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2020-2</td>
      <td>176791577.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2020-3</td>
      <td>174545220.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2020-4</td>
      <td>182713809.0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2020-5</td>
      <td>218194401.0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2020-6</td>
      <td>199010094.0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2020-7</td>
      <td>220232761.0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2020-8</td>
      <td>218711070.0</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2020-9</td>
      <td>194305025.0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2020-10</td>
      <td>231321706.0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2020-11</td>
      <td>199680061.0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2020-12</td>
      <td>173035276.0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2021-1</td>
      <td>167850335.0</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2021-2</td>
      <td>186986626.0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2021-3</td>
      <td>219365480.0</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2021-4</td>
      <td>190822478.0</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2021-5</td>
      <td>212421829.0</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2021-6</td>
      <td>198152108.0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2021-7</td>
      <td>205164658.0</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2021-8</td>
      <td>209056719.0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2021-9</td>
      <td>223985527.0</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2021-10</td>
      <td>224882734.0</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2021-11</td>
      <td>211169326.0</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2021-12</td>
      <td>202761767.0</td>
    </tr>
    <tr>
      <th>30</th>
      <td>2022-1</td>
      <td>211720699.0</td>
    </tr>
    <tr>
      <th>31</th>
      <td>2022-2</td>
      <td>211720699.0</td>
    </tr>
    <tr>
      <th>32</th>
      <td>2022-3</td>
      <td>211720699.0</td>
    </tr>
    <tr>
      <th>33</th>
      <td>2022-4</td>
      <td>211720699.0</td>
    </tr>
    <tr>
      <th>34</th>
      <td>2022-5</td>
      <td>211720699.0</td>
    </tr>
    <tr>
      <th>35</th>
      <td>2022-6</td>
      <td>223515196.0</td>
    </tr>
  </tbody>
</table>
</div>



ğŸ’¾ ì „ì²˜ë¦¬ê°€ ì™„ì„±ëœ ë°ì´í„°ë¥¼ CSV íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.


```python
tour_data.to_csv('tourData_final.csv', encoding = 'euc-kr')
```

# ğŸ“Š ë°ì´í„° ì‹œê°í™”

ì½”ë©ì—ì„œ í•œê¸€ í°íŠ¸ ê¹¨ì§€ëŠ” í˜„ìƒ í•´ê²°ì„ ìœ„í•´ í•œêµ­ì–´ í°íŠ¸ë“¤ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤


```python
import matplotlib
import matplotlib.pyplot as plt
from matplotlib import rc
import matplotlib.font_manager as fm

print([f.name for f in matplotlib.font_manager.fontManager.ttflist if 'Malgun' in f.name])

# í•œê¸€ í°íŠ¸ ì„¤ì •
plt.rc('font', family='Malgun Gothic') 
# - ê¸°í˜¸ ê¹¨ì§ í˜„ìƒ ë°©ì§€ë¥¼ ìœ„í•œ ì„¤ì •
plt.rc('axes', unicode_minus=False)
```

    ['Malgun Gothic', 'Malgun Gothic', 'Malgun Gothic']
    

ì‹œê°í™”ë¥¼ ìœ„í•´ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.


```python
import plotly.io as pio # Plotly input output
import plotly.express as px # ë¹ ë¥´ê²Œ ê·¸ë¦¬ëŠ” ë°©ë²•
import plotly.graph_objects as go # ë””í…Œì¼í•œ ì„¤ì •
import plotly.figure_factory as ff # í…œí”Œë¦¿ ë¶ˆëŸ¬ì˜¤ê¸°
from plotly.subplots import make_subplots # subplot ë§Œë“¤ê¸°
from plotly.validators.scatter.marker import SymbolValidator # Symbol ê¾¸ë¯¸ê¸°ì— ì‚¬ìš©ë¨
from urllib.request import urlopen
import json
import seaborn as sns
%matplotlib inline
```

ğŸ“ ì½”ë¡œë‚˜ì™€ ê´€ê´‘ ë°ì´í„°ë¥¼ í•©ì¹œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.


```python
combined_df = pd.read_csv('covidTour_combined_final.csv', encoding='cp949', index_col=0)
```

## ğŸ“ˆ í™•ì§„ì, ì‚¬ë§ì, ê´€ê´‘ê° ìˆ˜

ë¨¼ì € í™•ì§„ì, ì‚¬ë§ì, ê´€ê´‘ê° ìˆ˜ë¥¼ ë”°ë¡œ ì‹œê°í™” í•´ë³´ì•˜ìŠµë‹ˆë‹¤.


```python
# plt.plot(combined_df['ë…„ì›”'], combined_df['ë°©ë¬¸ììˆ˜'])
# plt.title('ì›”ë³„ ë°©ë¬¸ì ìˆ˜')
# plt.xlabel('ë…„ì›”')
# plt.ylabel('ë°©ë¬¸ì ìˆ˜')
# plt.xticks(combined_df['ë…„ì›”'],  rotation='vertical')
# plt.show()
```


```python
# plt.plot(combined_df['ë…„ì›”'], combined_df['ì›”ë³„í™•ì§„ììˆ˜'])
# plt.title('ì›”ë³„ í™•ì§„ì ìˆ˜')
# plt.xlabel('ë…„ì›”')
# plt.ylabel('í™•ì§„ì ìˆ˜')
# plt.xticks(combined_df['ë…„ì›”'],  rotation='vertical')
# plt.show()
```


```python
# plt.plot(combined_df['ë…„ì›”'], combined_df['ì›”ë³„ì‚¬ë§ììˆ˜'])
# plt.title('ì›”ë³„ ì‚¬ë§ì ìˆ˜')
# plt.xlabel('ë…„ì›”')
# plt.ylabel('ì‚¬ë§ì ìˆ˜')
# plt.xticks(combined_df['ë…„ì›”'],  rotation='vertical')
# plt.show()
```

## ğŸ“‰ í™•ì§„ìì™€ ì‚¬ë§ì ìˆ˜ ë¹„ë¡€ ê·¸ë˜í”„

ì›”ë³„ í™•ì§„ì ìˆ˜ì™€ ì‚¬ë§ì ìˆ˜ê°€ ì–´ë–»ê²Œ ë¹„ë¡€í•˜ëŠ”ì§€ ë³´ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ í•©ì³ì„œ ì‹œê°í™”ë„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.


```python
# y1 = ['ë°©ë¬¸ììˆ˜', 'ì›”ë³„í™•ì§„ììˆ˜']
# fig = px.line(combined_df, x='ë…„ì›”', y=y1)
# fig.update_yaxes(title_text="ì‚¬ëŒ ìˆ˜")
# fig.update_layout(
#     title="ì›”ë³„ í™•ì§„ì ìˆ˜ì™€ ë°©ë¬¸ì ìˆ˜ì˜ ê°’ ì°¨ì´ê°€ ì»¤ì„œ ë¹„êµì— ì–´ë ¤ì›€ì´ ìˆì—ˆìŠµë‹ˆë‹¤",
#     legend_title_text=''
# )

# fig.show()
```


```python
# fig = go.Figure()
# fig.add_trace(go.Scatter(x=combined_df['ë…„ì›”'], y=combined_df['ë°©ë¬¸ììˆ˜'], name='ë°©ë¬¸ììˆ˜', mode='lines'))
# fig.add_trace(go.Scatter(x=combined_df['ë…„ì›”'], y=combined_df['ì›”ë³„í™•ì§„ììˆ˜'], name='ì›”ë³„í™•ì§„ììˆ˜', mode='lines+markers'))
# fig.add_trace(go.Scatter(x=combined_df['ë…„ì›”'], y=combined_df['ì›”ë³„ì‚¬ë§ììˆ˜'], name='ì›”ë³„ì‚¬ë§ììˆ˜', mode='markers'))
# fig.update_layout(
#     title="ì›”ë³„ ì‚¬ë§ì ìˆ˜ë„ í™•ì§„ì ìˆ˜ì™€ ê°’ ì°¨ì´ê°€ ì»¤ì„œ ë¹„êµì— ì–´ë ¤ì›€ì´ ìˆì—ˆìŠµë‹ˆë‹¤",
#     xaxis_title="ë…„ì›”",
#     yaxis_title="ì‚¬ëŒ ìˆ˜"
# )
# fig.show()
```

### ğŸ’¬ í•´ê²° #1: ê¸°ê°„ì„ ë‚˜ëˆ„ì–´ì„œ ì‚´í´ë³´ì

yì¶•ì„ ì§€ì •í•´ì„œ ê·¸ë˜í”„ë¥¼ í™•ëŒ€í–ˆì„ ë•Œ, ë„ˆë¬´ ì‘ì•„ì„œ ë³´ì´ì§€ ì•Šì•˜ë˜ 2021ë…„ 10ì›”ê¹Œì§€ì˜ ë°ì´í„°ê°€ ë” ì˜ ë³´ì˜€ë‹¤.


```python
# y2 = ['ì›”ë³„í™•ì§„ììˆ˜', 'ì›”ë³„ì‚¬ë§ììˆ˜']
# fig = px.bar(combined_df, x='ë…„ì›”', y = y2, range_y = [0,65000])
# fig.update_yaxes(title_text="ì‚¬ëŒ ìˆ˜")
# fig.update_layout(
#     title="2019ë…„ 7ì›” ~ 2021ë…„ 10ì›” ê¹Œì§€ì˜ ë°ì´í„°ë¥¼ í™•ëŒ€í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤",
#     legend_title_text=''
# )

# fig.show()
```

ë˜í•œ, ì¼ë¶€ ê¸°ê°„ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë§Œ ê°€ì ¸ì™€ì„œ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤. ë°ì´í„° ì¤‘ ê´€ê´‘ê° ìˆ˜ê°€ ê°€ì¥ ë§ì•˜ë˜ 7, 8, 9ì›”ì˜ ê´€ê´‘ê° ìˆ˜ë¥¼ ë…„ë„ë³„ë¡œ ë¹„êµí•˜ì˜€ìŠµë‹ˆë‹¤.


```python
data = combined_df.copy()
data.sort_values('ë°©ë¬¸ììˆ˜', ascending = False)[:3]  #8ì›”, 9ì›”, 7ì›” ìˆœìœ¼ë¡œ ê´€ê´‘ê°ì´ ë§ì€ê±¸ í™•ì¸í•¨
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ì›”</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜</th>
      <th>ë°©ë¬¸ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>2019-08</td>
      <td>0</td>
      <td>0</td>
      <td>293357382.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-09</td>
      <td>0</td>
      <td>0</td>
      <td>271154784.0</td>
    </tr>
    <tr>
      <th>0</th>
      <td>2019-07</td>
      <td>0</td>
      <td>0</td>
      <td>262952388.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 7, 8, 9ì›” ë°ì´í„°ë§Œ ë”°ë¡œ data789 ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì €ì¥í•¨
data789 = data[data['ë…„ì›”'].str.contains('07') | data['ë…„ì›”'].str.contains('08') | data['ë…„ì›”'].str.contains('09')]
data789
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ì›”</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜</th>
      <th>ë°©ë¬¸ììˆ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-07</td>
      <td>0</td>
      <td>0</td>
      <td>262952388.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-08</td>
      <td>0</td>
      <td>0</td>
      <td>293357382.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-09</td>
      <td>0</td>
      <td>0</td>
      <td>271154784.0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2020-07</td>
      <td>19</td>
      <td>1486</td>
      <td>220232761.0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2020-08</td>
      <td>23</td>
      <td>5845</td>
      <td>218711070.0</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2020-09</td>
      <td>91</td>
      <td>3707</td>
      <td>194305025.0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2021-07</td>
      <td>77</td>
      <td>42055</td>
      <td>205164658.0</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2021-08</td>
      <td>194</td>
      <td>53663</td>
      <td>209056719.0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2021-09</td>
      <td>205</td>
      <td>60328</td>
      <td>223985527.0</td>
    </tr>
  </tbody>
</table>
</div>



7, 8, 9ì›” ê´€ê´‘ê° ìˆ˜ë§Œ í™•ì¸í•´ ë³´ì•˜ì„ ë•Œ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë°©ë¬¸ì ìˆ˜ê°€ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.


```python
# fig = px.bar(data789, x = 'ë…„ì›”', y = 'ë°©ë¬¸ììˆ˜', hover_name = 'ë°©ë¬¸ììˆ˜',
#              title = '7,8,9ì›” ê´€ê´‘ê° ìˆ˜ë§Œ ë”°ë¡œ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤')
# fig.show()
```


```python
#ë°ì´í„° ì¬ì •ë ¬
data789['ë…„'] = data789.apply((lambda x: x['ë…„ì›”'].split('-')[0]), axis = 1)
data789['ì›”'] = data789.apply((lambda x: x['ë…„ì›”'].split('-')[1]), axis = 1)
data789
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ì›”</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜</th>
      <th>ë°©ë¬¸ììˆ˜</th>
      <th>ë…„</th>
      <th>ì›”</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-07</td>
      <td>0</td>
      <td>0</td>
      <td>262952388.0</td>
      <td>2019</td>
      <td>07</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-08</td>
      <td>0</td>
      <td>0</td>
      <td>293357382.0</td>
      <td>2019</td>
      <td>08</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-09</td>
      <td>0</td>
      <td>0</td>
      <td>271154784.0</td>
      <td>2019</td>
      <td>09</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2020-07</td>
      <td>19</td>
      <td>1486</td>
      <td>220232761.0</td>
      <td>2020</td>
      <td>07</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2020-08</td>
      <td>23</td>
      <td>5845</td>
      <td>218711070.0</td>
      <td>2020</td>
      <td>08</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2020-09</td>
      <td>91</td>
      <td>3707</td>
      <td>194305025.0</td>
      <td>2020</td>
      <td>09</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2021-07</td>
      <td>77</td>
      <td>42055</td>
      <td>205164658.0</td>
      <td>2021</td>
      <td>07</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2021-08</td>
      <td>194</td>
      <td>53663</td>
      <td>209056719.0</td>
      <td>2021</td>
      <td>08</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2021-09</td>
      <td>205</td>
      <td>60328</td>
      <td>223985527.0</td>
      <td>2021</td>
      <td>09</td>
    </tr>
  </tbody>
</table>
</div>



ë…„ë„ë³„ ë¹„êµë¥¼ ìœ„í•´ ìœ„ì™€ ê°™ì€ 7, 8, 9ì›” ë°ì´í„°ë¥¼ ì¬ì •ë ¬í•˜ì—¬ ì‹œê°í™” í•˜ì˜€ìŠµë‹ˆë‹¤. ì¢€ ë” í™•ì‹¤í•˜ê²Œ ë…„ë„ë³„ë¡œ ë°©ë¬¸ì ìˆ˜ê°€ ì¤„ì–´ë“œëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.


```python
# fig = px.bar(data789, x = 'ì›”', y = 'ë°©ë¬¸ììˆ˜', color = 'ë…„', hover_name = 'ë°©ë¬¸ììˆ˜', barmode = 'group',
#              title = '7,8,9ì›” ê´€ê´‘ê° ìˆ˜ë¥¼ ë…„ë„ë³„ë¡œ ë¬¶ì–´ ì‹œê°í™” í•˜ì˜€ìŠµë‹ˆë‹¤')
# fig.show()
```

### ğŸ’¬ í•´ê²° #2: í‘œì¤€í™”ë¥¼ í†µí•´ì„œ ë¹„êµí•´ë³´ì

ğŸ‘€ ì˜ ë³´ì´ì§€ ì•ŠëŠ” ì‘ì€ ê°’ì„ ê°€ì§„ ë°ì´í„°ì— ì •ìˆ˜ë¥¼ ê³±í•˜ì—¬ ê·¸ë¦¼ì— ë” ì˜ ë‚˜íƒ€ë‚˜ë„ë¡ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

 ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ë§ì ìˆ˜ì—ëŠ” 50000ì„ ê³±í•´ì£¼ê³ , í™•ì§„ì ìˆ˜ì—ëŠ” 50ì„ ê³±í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. ë°ì´í„° ê°„ ê´€ê³„ë¥¼ ë” ìì„¸íˆ í™•ì¸í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ˜


```python
# fig = go.Figure()
# fig.add_trace(go.Scatter(x=combined_df['ë…„ì›”'], y=combined_df['ë°©ë¬¸ììˆ˜'], name='ë°©ë¬¸ììˆ˜', mode='lines'))
# fig.add_trace(go.Scatter(x=combined_df['ë…„ì›”'], y=combined_df['ì›”ë³„í™•ì§„ììˆ˜']*50, name='ì›”ë³„í™•ì§„ììˆ˜', mode='lines+markers'))
# fig.add_trace(go.Scatter(x=combined_df['ë…„ì›”'], y=combined_df['ì›”ë³„ì‚¬ë§ììˆ˜']*50000, name='ì›”ë³„ì‚¬ë§ììˆ˜', mode='markers'))
# fig.show()
```

ë°ì´í„°ì˜ ê°’ í¬ê¸°ê°€ ë‹¬ë¼ ê·¸ë˜í”„ê°€ ì´ìƒì¹˜ë¥¼ í¬í•¨í•œ ê²°ê³¼ë¡œ ê·¸ë ¤ì§€ê³  ê·¸ë˜í”„ì˜ í•´ì„ì´ ì–´ë ¤ì›Œì§€ê¸° ë•Œë¬¸ì— ë‹¨ìœ„ë¥¼ í†µì¼í•´ì£¼ê³ ì ì´ìƒì¹˜ì— ëœ ë¯¼ê°í•œ **RobustScale** ë°©ë²•ì„ ì´ìš©í•˜ì—¬ í‘œì¤€í™” ì‹œì¼°ìŠµë‹ˆë‹¤.


```python
from sklearn.preprocessing import RobustScaler

#í‘œì¤€í™” ë°ì´í„° ìƒì„±
data_scale = data.copy()

#í‘œì¤€í™” ì§„í–‰
data_scale['ë°©ë¬¸ììˆ˜_scale'] = RobustScaler().fit_transform(data[['ë°©ë¬¸ììˆ˜']])
data_scale['ì›”ë³„í™•ì§„ììˆ˜_scale'] = RobustScaler().fit_transform(data[['ì›”ë³„í™•ì§„ììˆ˜']])
data_scale['ì›”ë³„ì‚¬ë§ììˆ˜_scale'] = RobustScaler().fit_transform(data[['ì›”ë³„ì‚¬ë§ììˆ˜']])

data_scale.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ì›”</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜</th>
      <th>ë°©ë¬¸ììˆ˜</th>
      <th>ë°©ë¬¸ììˆ˜_scale</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜_scale</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜_scale</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-07</td>
      <td>0</td>
      <td>0</td>
      <td>262952388.0</td>
      <td>2.015866</td>
      <td>-0.232248</td>
      <td>-0.267143</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-08</td>
      <td>0</td>
      <td>0</td>
      <td>293357382.0</td>
      <td>3.212243</td>
      <td>-0.232248</td>
      <td>-0.267143</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-09</td>
      <td>0</td>
      <td>0</td>
      <td>271154784.0</td>
      <td>2.338614</td>
      <td>-0.232248</td>
      <td>-0.267143</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-10</td>
      <td>0</td>
      <td>0</td>
      <td>254882209.0</td>
      <td>1.698321</td>
      <td>-0.232248</td>
      <td>-0.267143</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-11</td>
      <td>0</td>
      <td>0</td>
      <td>254841999.0</td>
      <td>1.696738</td>
      <td>-0.232248</td>
      <td>-0.267143</td>
    </tr>
  </tbody>
</table>
</div>




```python
# fig = go.Figure()
# fig.add_trace(go.Scatter(x=data_scale['ë…„ì›”'], y=data_scale['ì›”ë³„í™•ì§„ììˆ˜_scale'], name='ì›”ë³„í™•ì§„ììˆ˜', mode='lines+markers'))
# fig.add_trace(go.Scatter(x=data_scale['ë…„ì›”'], y=data_scale['ë°©ë¬¸ììˆ˜_scale'], name='ë°©ë¬¸ììˆ˜', mode='lines+markers'))
# fig.update_layout(
#     title="ìŠ¤ì¼€ì¼ë§ í›„ ì½”ë¡œë‚˜ í™•ì§„ì ìˆ˜ì™€ ê´€ê´‘ê° ìˆ˜ì˜ ì‹œê³„ì—´ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë³´ì•˜ìŠµë‹ˆë‹¤",
#     xaxis_title="ë…„ì›”",
#     yaxis_title="ì‚¬ëŒ ìˆ˜"
# )
```

í•˜ì§€ë§Œ RobustScaleì„ ì´ìš©í•´ë„ ì´ìƒì¹˜ê°€ ë„ˆë¬´ í¬ê²Œ ë‚˜íƒ€ë‚˜ì„œ ì—¬ì „íˆ ê·¸ë˜í”„ í•´ì„ì— ì–´ë ¤ì›€ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— í™•ì§„ììˆ˜ê°€ ê¸‰ê°í•˜ê¸° ì´ì „ì¸ **2021ë…„ 10ì›”ê¹Œì§€ì˜ ë°ì´í„°**ë¡œ ë‹¤ì‹œ í‘œì¤€í™”ë¥¼ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” í‘œì¤€í™” ë°©ë²• ì¤‘ ê°€ì¥ ì¼ë°˜ì ì¸ **StandardScale**ì„ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.


```python
from sklearn.preprocessing import StandardScaler

#í‘œì¤€í™” ë°ì´í„° ìƒì„±
data_scale2 = data[:28]

#í‘œì¤€í™” ì§„í–‰
data_scale2['ë°©ë¬¸ììˆ˜_scale'] = StandardScaler().fit_transform(data_scale2[['ë°©ë¬¸ììˆ˜']])
data_scale2['ì›”ë³„í™•ì§„ììˆ˜_scale'] = StandardScaler().fit_transform(data_scale2[['ì›”ë³„í™•ì§„ììˆ˜']])
data_scale2['ì›”ë³„ì‚¬ë§ììˆ˜_scale'] = StandardScaler().fit_transform(data_scale2[['ì›”ë³„ì‚¬ë§ììˆ˜']])

data_scale2.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë…„ì›”</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜</th>
      <th>ë°©ë¬¸ììˆ˜</th>
      <th>ë°©ë¬¸ììˆ˜_scale</th>
      <th>ì›”ë³„í™•ì§„ììˆ˜_scale</th>
      <th>ì›”ë³„ì‚¬ë§ììˆ˜_scale</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-07</td>
      <td>0</td>
      <td>0</td>
      <td>262952388.0</td>
      <td>1.513755</td>
      <td>-0.740185</td>
      <td>-0.796746</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-08</td>
      <td>0</td>
      <td>0</td>
      <td>293357382.0</td>
      <td>2.488978</td>
      <td>-0.740185</td>
      <td>-0.796746</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-09</td>
      <td>0</td>
      <td>0</td>
      <td>271154784.0</td>
      <td>1.776842</td>
      <td>-0.740185</td>
      <td>-0.796746</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-10</td>
      <td>0</td>
      <td>0</td>
      <td>254882209.0</td>
      <td>1.254909</td>
      <td>-0.740185</td>
      <td>-0.796746</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-11</td>
      <td>0</td>
      <td>0</td>
      <td>254841999.0</td>
      <td>1.253619</td>
      <td>-0.740185</td>
      <td>-0.796746</td>
    </tr>
  </tbody>
</table>
</div>




```python
# fig = go.Figure()

# fig.add_trace(go.Scatter(x=data_scale2['ë…„ì›”'], y=data_scale2['ì›”ë³„í™•ì§„ììˆ˜_scale'], name='ì›”ë³„í™•ì§„ììˆ˜', mode='lines+markers'))
# fig.add_trace(go.Scatter(x=data_scale2['ë…„ì›”'], y=data_scale2['ë°©ë¬¸ììˆ˜_scale'], name='ë°©ë¬¸ììˆ˜', mode='lines+markers'))
# fig.update_layout(
#     title="ìŠ¤ì¼€ì¼ë§ í›„ 2021ë…„ê¹Œì§€ì˜ ì½”ë¡œë‚˜ <b>í™•ì§„ì ìˆ˜ì™€ ê´€ê´‘ê° ìˆ˜</b>ì˜ ì‹œê³„ì—´ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë³´ì•˜ìŠµë‹ˆë‹¤",
#     xaxis_title="ë…„ì›”",
#     yaxis_title="ì‚¬ëŒ ìˆ˜"
# )
```


```python
# fig = go.Figure()

# fig.add_trace(go.Scatter(x=data_scale2['ë…„ì›”'], y=data_scale2['ì›”ë³„ì‚¬ë§ììˆ˜_scale'], name='ì›”ë³„ì‚¬ë§ììˆ˜', mode='lines+markers'))
# fig.add_trace(go.Scatter(x=data_scale2['ë…„ì›”'], y=data_scale2['ë°©ë¬¸ììˆ˜_scale'], name='ë°©ë¬¸ììˆ˜', mode='lines+markers'))
# fig.update_layout(
#     title="ìŠ¤ì¼€ì¼ë§ í›„ 2021ë…„ê¹Œì§€ì˜ ì½”ë¡œë‚˜ <b>ì‚¬ë§ì ìˆ˜ì™€ ê´€ê´‘ê° ìˆ˜</b>ì˜ ì‹œê³„ì—´ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë³´ì•˜ìŠµë‹ˆë‹¤",
#     xaxis_title="ë…„ì›”",
#     yaxis_title="ì‚¬ëŒ ìˆ˜"
# )
```


### ğŸ’¬ í•´ê²° #3: ë¡œê·¸ë³€í™˜ì„ í†µí•´ì„œ ë¹„êµí•´ë³´ì

yì¶•ì˜ í™•ì§„ì ìˆ˜ì™€ ì‚¬ë§ì ìˆ˜ë¥¼ ë¡œê·¸ë³€í™˜í•˜ì—¬ ë°ì´í„° ê°’ì„ ë” ì§ê´€ì ìœ¼ë¡œ ë¹„êµí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.


```python
# fig = make_subplots(specs=[[{"secondary_y": True}]])

# fig.add_trace(go.Bar(x=combined_df["ë…„ì›”"], y=combined_df["ì›”ë³„í™•ì§„ììˆ˜"], name="ì›”ë³„í™•ì§„ììˆ˜", opacity=0.7), secondary_y=False)
# fig.add_trace(go.Scatter(x=combined_df["ë…„ì›”"], y=combined_df["ì›”ë³„ì‚¬ë§ììˆ˜"], name="ì›”ë³„ì‚¬ë§ììˆ˜", line=dict(width=4)), secondary_y=True)

# fig.update_layout(
#     title="ë¡œê·¸ë³€í™˜ì„ í†µí•´ ì›”ë³„ í™•ì§„ì ìˆ˜ì™€ ì‚¬ë§ì ìˆ˜ê°€ ë¹„ë¡€í•˜ëŠ”ê±¸ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤", xaxis_title="ë…„ì›”"
# )
# fig.update_yaxes(title_text="í™•ì§„ì ìˆ˜", secondary_y=False, type='log')
# fig.update_yaxes(title_text="ì‚¬ë§ì ìˆ˜", secondary_y=True, type='log')

# fig.show()
```

*   ì½”ë¡œë‚˜ ì´ì „ì— ë¹„í•´ ì „ì²´ ë°©ë¬¸ì ìˆ˜ê°€ ì½”ë¡œë‚˜ ì´í›„ì— ë‚®ì•„ì¡ŒìŠµë‹ˆë‹¤.

*   íŠ¹íˆ, ê´€ê´‘ê° ìˆ˜ê°€ ê°€ì¥ ë§ì•˜ë˜ 2019ë…„ë„ ì—¬ë¦„ì— ë¹„í•´ 2020ë…„ê³¼ 2021ë…„ ì—¬ë¦„ì—ëŠ” ê´€ê´‘ê°ì´ ë§ì´ ì¤„ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

*   ì½”ë¡œë‚˜ í™•ì§„ì ìˆ˜ì™€ ê´€ê´‘ê° ìˆ˜ëŠ” ëŒ€ì²´ì ìœ¼ë¡œ ë°˜ë¹„ë¡€ í•˜ì˜€ìŠµë‹ˆë‹¤.



# ğŸ³ ê²°ë¡ 


```python
# fig = make_subplots(specs=[[{"secondary_y": True}]])

# fig.add_trace(go.Bar(x=combined_df["ë…„ì›”"], y=combined_df["ì›”ë³„í™•ì§„ììˆ˜"], name="ì›”ë³„í™•ì§„ììˆ˜", opacity=0.7), secondary_y=False)
# fig.add_trace(go.Scatter(x=combined_df["ë…„ì›”"], y=combined_df["ë°©ë¬¸ììˆ˜"], name="ë°©ë¬¸ììˆ˜", line=dict(width=4)), secondary_y=True)

# fig.add_hline(y=13000, line_dash="dot",
#               annotation_text="ì½”ë¡œë‚˜ ì´ì „ë§Œí¼ ë°©ë¬¸ì ìˆ˜ê°€ ë§ì§€ ì•Šë‹¤",
#               annotation_position="bottom left")
# fig.add_vrect(x0="2020-01", x1="2020-03", col=1,
#               annotation_text="<b>ì½”ë¡œë‚˜ ì‹œì‘", annotation_position="top left",
#               fillcolor="green", opacity=0.2, line_width=0)

# fig.update_layout(
#     title="ì½”ë¡œë‚˜ ì‹œì‘ ì´í›„ ê´€ê´‘ ë°©ë¬¸ì ìˆ˜ê°€ ì¤„ì–´ë“¤ì—ˆë‹¤", xaxis_title="ë…„ì›”"
# )
# fig.update_yaxes(title_text="í™•ì§„ì ìˆ˜", secondary_y=False, type="log")
# fig.update_yaxes(title_text="ë°©ë¬¸ì ìˆ˜", secondary_y=True)

# fig.show()
```


```python

```
